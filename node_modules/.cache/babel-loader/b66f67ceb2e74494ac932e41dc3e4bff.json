{"ast":null,"code":"var _jsxFileName = \"/home/fatima/Xero-react/src/App.js\",\n    _s = $RefreshSig$();\n\nimport React from \"react\";\nimport { useState, useEffect } from \"react\";\nimport axios from 'axios';\nimport mondaySdk from \"monday-sdk-js\"; // Usage of mondaySDK example, for more information visit here: https://developer.monday.com/apps/docs/introduction-to-the-sdk/\n\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst monday = mondaySdk();\n\nconst App = () => {\n  _s();\n\n  const [context, setContext] = useState();\n  const [isAuthorized, setIsAuthorized] = useState(false);\n  const [invoices, setInvoices] = useState({});\n  const [clientId, setClientId] = useState('');\n  const [clientSecret, setClientSecret] = useState('');\n  const [redirectUri, setRedirectUri] = useState('');\n  useEffect(() => {\n    // Notice this method notifies the monday platform that user gains a first value in an app.\n    // Read more about it here: https://developer.monday.com/apps/docs/mondayexecute#value-created-for-user/\n    monday.execute(\"valueCreatedForUser\"); // TODO: set up event listeners, Here`s an example, read more here: https://developer.monday.com/apps/docs/mondaylisten/\n\n    monday.listen(\"context\", res => {\n      setContext(res.data);\n    });\n  }, []);\n\n  const fetchInvoices = () => {\n    axios.get('https://i9j279set4.execute-api.us-east-1.amazonaws.com/prod/invoice').then(response => {\n      const fetchedInvoices = response.data;\n      setInvoices(fetchedInvoices.invoices);\n    }).catch(error => {\n      console.error('Error fetching invoices:', error);\n    });\n    ``;\n  };\n\n  const handleAuthorizeClick = () => {\n    const frontendHost = window.location.origin; // Construct the authorization URL with user-provided credentials\n\n    const authorizationUrl = `https://i9j279set4.execute-api.us-east-1.amazonaws.com/prod/connect?clientId=${encodeURIComponent(clientId)}&clientSecret=${encodeURIComponent(clientSecret)}&redirectUri=${encodeURIComponent(redirectUri)}&frontendHost=${encodeURIComponent(frontendHost)}`; // Redirect the user to the authorization URL\n\n    window.location.href = authorizationUrl;\n  };\n\n  useEffect(() => {\n    const urlParams = new URLSearchParams(window.location.search);\n    const authorized = urlParams.get('authorized');\n\n    if (authorized === 'true') {\n      setIsAuthorized(true);\n    }\n  }, []);\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"container text-center mb-5 mt-5\",\n    children: !isAuthorized ? /*#__PURE__*/_jsxDEV(\"div\", {\n      class: \"mb-5\",\n      children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n        class: \"mb-5\",\n        children: \"Enter Your Xero API Credentials\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 67,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        class: \"input-group mb-3 shadow\",\n        children: [/*#__PURE__*/_jsxDEV(\"span\", {\n          class: \"input-group-text\",\n          id: \"inputGroup-sizing-default\",\n          children: \"Client Id\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 70,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"text\",\n          value: clientId,\n          onChange: e => setClientId(e.target.value),\n          class: \"form-control \"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 71,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 69,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        class: \"input-group mb-3 shadow\",\n        children: [/*#__PURE__*/_jsxDEV(\"span\", {\n          class: \"input-group-text\",\n          id: \"inputGroup-sizing-default\",\n          children: \"Client Secret\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 80,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"text\",\n          value: clientSecret,\n          onChange: e => setClientSecret(e.target.value),\n          class: \"form-control \"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 81,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 79,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        class: \"input-group mb-3 shadow\",\n        children: [/*#__PURE__*/_jsxDEV(\"span\", {\n          class: \"input-group-text\",\n          id: \"inputGroup-sizing-default\",\n          children: \"Redirect Uri\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 90,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"text\",\n          value: redirectUri,\n          onChange: e => setRedirectUri(e.target.value),\n          class: \"form-control \"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 91,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 89,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        onClick: handleAuthorizeClick,\n        class: \"btn btn-outline-dark btn-lg\",\n        children: \"Submit\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 99,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 66,\n      columnNumber: 9\n    }, this) : /*#__PURE__*/_jsxDEV(\"div\", {\n      children: [/*#__PURE__*/_jsxDEV(\"button\", {\n        className: \"btn btn-dark btn-lg mb-3\",\n        onClick: fetchInvoices,\n        children: \"Fetch Invoices\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 103,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"table-responsive\",\n        children: /*#__PURE__*/_jsxDEV(\"table\", {\n          className: \"table table-striped\",\n          children: [/*#__PURE__*/_jsxDEV(\"thead\", {\n            children: /*#__PURE__*/_jsxDEV(\"tr\", {\n              children: [/*#__PURE__*/_jsxDEV(\"th\", {\n                children: \"Invoice Number\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 110,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                children: \"Amount Due\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 111,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                children: \"Reference\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 112,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                children: \"Status\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 113,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 109,\n              columnNumber: 17\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 108,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"tbody\", {\n            children: Object.keys(invoices).map(key => /*#__PURE__*/_jsxDEV(\"tr\", {\n              children: [/*#__PURE__*/_jsxDEV(\"td\", {\n                children: invoices[key].invoiceNumber\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 119,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                children: invoices[key].amountDue\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 120,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                children: invoices[key].reference\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 121,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                children: invoices[key].status\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 122,\n                columnNumber: 21\n              }, this)]\n            }, key, true, {\n              fileName: _jsxFileName,\n              lineNumber: 118,\n              columnNumber: 19\n            }, this))\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 116,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 107,\n          columnNumber: 13\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 106,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 102,\n      columnNumber: 9\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 63,\n    columnNumber: 5\n  }, this);\n};\n\n_s(App, \"kUdAf4X69yOnuJyz59qODcO4KMI=\");\n\n_c = App;\nexport default App;\n\nvar _c;\n\n$RefreshReg$(_c, \"App\");","map":{"version":3,"names":["React","useState","useEffect","axios","mondaySdk","monday","App","context","setContext","isAuthorized","setIsAuthorized","invoices","setInvoices","clientId","setClientId","clientSecret","setClientSecret","redirectUri","setRedirectUri","execute","listen","res","data","fetchInvoices","get","then","response","fetchedInvoices","catch","error","console","handleAuthorizeClick","frontendHost","window","location","origin","authorizationUrl","encodeURIComponent","href","urlParams","URLSearchParams","search","authorized","e","target","value","Object","keys","map","key","invoiceNumber","amountDue","reference","status"],"sources":["/home/fatima/Xero-react/src/App.js"],"sourcesContent":["import React from \"react\";\nimport { useState, useEffect } from \"react\";\nimport axios from 'axios'\nimport mondaySdk from \"monday-sdk-js\";\n\n\n// Usage of mondaySDK example, for more information visit here: https://developer.monday.com/apps/docs/introduction-to-the-sdk/\nconst monday = mondaySdk();\n\nconst App = () => {\n  const [context, setContext] = useState();\n  const [isAuthorized, setIsAuthorized] = useState(false);\n  const [invoices, setInvoices] = useState({});\n  const [clientId, setClientId] = useState('');\n  const [clientSecret, setClientSecret] = useState('');\n  const [redirectUri, setRedirectUri] = useState('');\n\n  useEffect(() => {\n    // Notice this method notifies the monday platform that user gains a first value in an app.\n    // Read more about it here: https://developer.monday.com/apps/docs/mondayexecute#value-created-for-user/\n    monday.execute(\"valueCreatedForUser\");\n\n    // TODO: set up event listeners, Here`s an example, read more here: https://developer.monday.com/apps/docs/mondaylisten/\n    monday.listen(\"context\", (res) => {\n      setContext(res.data);\n    });\n  }, []);\n\n  const fetchInvoices = () => {\n    axios.get('https://i9j279set4.execute-api.us-east-1.amazonaws.com/prod/invoice')\n      .then(response => {\n        const fetchedInvoices = response.data;\n        setInvoices(fetchedInvoices.invoices);\n      })\n      .catch(error => {\n        console.error('Error fetching invoices:', error);\n      });``\n  };\n\n  const handleAuthorizeClick = () => {\n    const frontendHost = window.location.origin;\n    // Construct the authorization URL with user-provided credentials\n    const authorizationUrl = `https://i9j279set4.execute-api.us-east-1.amazonaws.com/prod/connect?clientId=${encodeURIComponent(clientId)}&clientSecret=${encodeURIComponent(clientSecret)}&redirectUri=${encodeURIComponent(redirectUri)}&frontendHost=${encodeURIComponent(frontendHost)}`;\n\n    // Redirect the user to the authorization URL\n    window.location.href = authorizationUrl;\n  };\n\n  useEffect(() => {\n    const urlParams = new URLSearchParams(window.location.search);\n    const authorized = urlParams.get('authorized');\n\n    if (authorized === 'true') {\n      setIsAuthorized(true);\n    }\n  }, []);\n\n\n \n\n \n  return (\n    <div className=\"container text-center mb-5 mt-5\">\n\n      {!isAuthorized ? (\n        <div class=\"mb-5\">\n          <h2 class=\"mb-5\">Enter Your Xero API Credentials</h2>\n\n          <div class=\"input-group mb-3 shadow\">\n            <span class=\"input-group-text\" id=\"inputGroup-sizing-default\">Client Id</span>\n            <input\n              type=\"text\"\n              value={clientId}\n              onChange={(e) => setClientId(e.target.value)}\n              class=\"form-control \"\n\n            />\n          </div>\n          <div class=\"input-group mb-3 shadow\">\n            <span class=\"input-group-text\" id=\"inputGroup-sizing-default\">Client Secret</span>\n            <input\n              type=\"text\"\n              value={clientSecret}\n              onChange={(e) => setClientSecret(e.target.value)}\n              class=\"form-control \"\n\n            />\n          </div>\n          <div class=\"input-group mb-3 shadow\">\n            <span class=\"input-group-text\" id=\"inputGroup-sizing-default\">Redirect Uri</span>\n            <input\n              type=\"text\"\n              value={redirectUri}\n              onChange={(e) => setRedirectUri(e.target.value)}\n              class=\"form-control \"\n\n            />\n          </div>\n          <button onClick={handleAuthorizeClick} class=\"btn btn-outline-dark btn-lg\">Submit</button>\n        </div>\n      ) : (\n        <div>\n          <button className=\"btn btn-dark btn-lg mb-3\" onClick={fetchInvoices}>\n            Fetch Invoices\n          </button>\n          <div className=\"table-responsive\">\n            <table className=\"table table-striped\">\n              <thead>\n                <tr>\n                  <th>Invoice Number</th>\n                  <th>Amount Due</th>\n                  <th>Reference</th>\n                  <th>Status</th>\n                </tr>\n              </thead>\n              <tbody>\n                {Object.keys(invoices).map(key => (\n                  <tr key={key}>\n                    <td>{invoices[key].invoiceNumber}</td>\n                    <td>{invoices[key].amountDue}</td>\n                    <td>{invoices[key].reference}</td>\n                    <td>{invoices[key].status}</td>\n                  </tr>\n                ))}\n              </tbody>\n            </table>\n          </div>\n        </div>\n      )}\n    </div>\n  );\n};\n\nexport default App;\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}